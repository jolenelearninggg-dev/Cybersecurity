# Networking Primer - Layers 1-7

🌐 網路基礎核心筆記：
OSI 全層級解析
一、 網路模型與資料處理 (Models & PDU)網路通訊透過模型化來定義不同層級的功能，主要分為 OSI (理論型) 與 TCP/IP (功能型)。
OSI 模型 (7 Layers)：將功能切分為細小的區塊，Layer 1-4 負責傳輸，Layer 5-7 負責應用與呈現。
TCP/IP 模型 (4 Layers)：將 OSI 的 5-7 層合併為應用層，2-1 層合併為連結層，更貼近實際運作。
PDU (協定資料單元)：資料在每一層封裝後的名稱。
Data (數據)：應用層。
Segment (段)：傳輸層 (TCP/UDP)。Packet (封包)：網路層 (IP)。
Frame (影格)：連結層 (MAC)。Bits (位元)：實體層。
封裝 (Encapsulation)：資料由上往下的包裝過程，每一層都會加上特定的標頭 (Header)。
二、 定址機制：MAC 與 IP (Addressing)這是確保包裹能精確送達的雙重保障。
特性MAC 地址 (Layer 2)IP 地址 (Layer 3)定義實體/連結層位址，48 位元 (6 Octets)。網路/網際網路層位址，用於跨網路由。
比喻身分證字號：唯一且不變，用於區網點名。
郵寄地址：隨網路位置改變，用於長途導航。格式十六進位 (如 00:0C:29...)。
十進位 (v4) 或十六進位 (v6)。
IPv4 vs. IPv6 關鍵對照IPv4：32 位元，位址已趨近枯竭。
IPv6：128 位元，具備以下類型：Unicast (單播)：1 對 1 傳輸。
Multicast (多播)：1 對多傳輸。
Anycast (任一播)：1 對一組中「最近的一個」傳輸。
安全性：內建 IPSec，提供加密與身分認證功能。
三、 傳輸層機制 (Transport Mechanisms)決定資料「如何」搬運，主要分為 TCP 與 UDP。
特性TCP (傳輸控制協定)UDP (用戶資料報協定)連線連線導向：需三向握手。
非連線導向：丟了就跑 (Fire & Forget)。
可靠性高，會確認收訖與重傳。低，不保證抵達。速度較慢 (標頭負荷大)。快速 (標頭小)。
應用SSH, HTTP, FTP, SMB。影片串流, DNS, 遊戲。
TCP 三向握手 (3-Way Handshake)SYN：客戶端請求同步序列號。
SYN/ACK：伺服器確認並同步自己的序號。ACK：客戶端確認，連線正式建立 (Established)。四、 應用層協定 (Application Layer Protocols)這是駭客最常攻擊與監測的目標。
1. HTTP & HTTPS (Port 80/443)HTTP：明文傳輸，不具狀態 (Stateless)。常見方法：GET (請求資料)、POST (提交資料)、PUT (更新/建立)、DELETE (刪除)。HTTPS：利用 TLS/SSL 加密對話，透過 TLS 握手 交換 x.509 憑證 與建立密鑰。2. FTP (Port 21/20)特點：雙通道運作，21 負責指令 (USER, PASS, CWD, RETR)，20 負責傳輸數據。模式：Passive (被動) 模式最常用，可繞過防火牆限制。3. SMB (Port 445)功能：Windows 資源共享 (印表機、資料夾)。分析：若看到連續紅底的 STATUS_LOGON_FAILURE，可能正在發生暴力破解攻擊。4. SSH/SFTP (Port 22)功能：安全遠端控制與檔案傳輸，全面取代明文的 Telnet 與 FTP。
